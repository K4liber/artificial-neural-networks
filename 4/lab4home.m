pattern4L =  [-1, -1, -1, -1, -1, -1, -1; 
             -1, -1, -1, 1, 1, -1, -1;
             -1, -1, 1, -1, 1, -1, -1;
             -1, 1, -1, -1, 1, -1, -1;
             -1, 1, 1, 1, 1, 1, -1;
             -1, -1, -1, -1, 1, -1, -1;
             -1, -1, -1, -1, -1, -1, -1; 
];
pattern1L =  [-1, -1, -1, -1, -1, -1, -1; 
             -1, -1, 1, 1, -1, -1, -1; 
             -1, -1, -1, 1, -1, -1, -1; 
             -1, -1, -1, 1, -1, -1, -1; 
             -1, -1, -1, 1, -1, -1, -1; 
             -1, -1, 1, 1, 1, -1, -1; 
             -1, -1, -1, -1, -1, -1, -1; 
];
pattern2L =  [-1, -1, -1, -1, -1, -1, -1;  
             -1, 1, 1, 1, 1, 1, -1;
             -1, -1, -1, -1, -1, 1, -1; 
             -1, 1, 1, 1, 1, 1, -1; 
             -1, 1, -1, -1, -1, -1, -1; 
             -1, 1, 1, 1, 1, 1, -1; 
             -1, -1, -1, -1, -1, -1, -1; 
];

pattern4P = [-1, -1, -1, -1, 1, 1, -1, -1;
             -1, -1, -1, -1, 1, 1, -1, -1;
];
pattern1P = [1, 1, -1, -1, -1, -1, -1, -1;
             1, 1, -1, -1, -1, -1, -1, -1;
];
pattern2P = [-1, -1, 1, 1, -1, -1, -1, -1;
             -1, -1, 1, 1, -1, -1, -1, -1;
];

IN2L =  [1, -1, -1, 1, -1, -1, -1;  
             -1, -1, 1, 1, 1, 1, -1;
             -1, 1, -1, -1, -1, 1, -1; 
             -1, -1, 1, 1, 1, 1, -1; 
             -1, 1, -1, -1, -1, -1, -1; 
             -1, 1, -1, -1, 1, 1, -1; 
             -1, -1, -1, -1, -1, 1, -1; 
];
IN1L =  [-1, -1, -1, -1, -1, -1, 1; 
             -1, -1, 1, 1, -1, -1, -1; 
             -1, -1, -1, 1, -1, -1, -1; 
             -1, -1, 1, 1, -1, -1, -1; 
             -1, -1, -1, 1, -1, -1, -1; 
             -1, -1, 1, 1, 1, -1, -1; 
             -1, -1, -1, -1, -1, -1, -1; 
];
IN4L =  [-1, -1, -1, -1, -1, -1, -1; 
             -1, -1, -1, 1, 1, -1, -1;
             -1, 1, -1, -1, 1, -1, -1;
             -1, 1, 1, -1, 1, -1, -1;
             -1, 1, 1, 1, -1, 1, -1;
             -1, -1, -1, -1, 1, 1, -1;
             -1, -1, 1, -1, -1, -1, -1; 
];

IN4P = [1, -1, -1, -1, 1, 1, -1, -1;
             -1, -1, -1, -1, -1, 1, -1, -1;
];
IN1P = [-1, 1, -1, -1, 1, -1, -1, -1;
             1, 1, -1, -1, -1, -1, -1, -1;
];
IN2P = [-1, -1, 1, 1, 1, -1, -1, -1;
             -1, -1, -1, 1, -1, -1, -1, -1;
];

INRandL = round(rand(7));

patt4L = pattern4L(:);
patt1L = pattern1L(:);
patt2L = pattern2L(:);
patt4P = pattern4P(:);
patt1P = pattern1P(:);
patt2P = pattern2P(:);
pattRandL = INRandL(:);

W = (patt4L*patt4P' + patt1L*patt1P' + patt2L*patt2P');
OUT = BAM(pattRandL, 'LEFT', W);

%imshow([pattern4L, pattern1L, pattern2L]);
%imshow([pattern4P; pattern1P; pattern2P]);